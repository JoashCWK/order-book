#include <order_book.h>
#include <order.h>
#include <memory>
#include <iostream>

int main(){
	/*
	OrderBook aapl;
	std::shared_ptr<Order> a = std::make_shared<Order>(1, true, 3, 100, 1);
	std::shared_ptr<Order> b = std::make_shared<Order>(2, true, 5, 100, 2);
	std::shared_ptr<Order> c = std::make_shared<Order>(3, true, 5, 100, 3);
	std::shared_ptr<Order> d = std::make_shared<Order>(4, true, 8, 95, 4);
	std::shared_ptr<Order> e = std::make_shared<Order>(5, true, 2, 95, 5);
	std::shared_ptr<Order> f = std::make_shared<Order>(6, true, 3, 97, 6);
	std::shared_ptr<Order> g = std::make_shared<Order>(7, true, 7, 105, 7);
	std::shared_ptr<Order> h = std::make_shared<Order>(8, true, 6, 102, 8);
	std::shared_ptr<Order> i = std::make_shared<Order>(9, true, 2, 105, 9);
	std::shared_ptr<Order> j = std::make_shared<Order>(10, true, 10, 98, 10);

	aapl.addOrder(a);
	aapl.addOrder(b);
	aapl.addOrder(c);
	aapl.addOrder(d);
	aapl.addOrder(e);
	aapl.addOrder(f);
	aapl.addOrder(g);
	aapl.addOrder(h);
	aapl.addOrder(i);
	aapl.addOrder(j);

	aapl.removeUnits(9, true);
	std::cout << aapl.getHighestBuy() << std::endl;

	int remaining = aapl.removeUnits(8, true, 102);

	std::cout << "Remaining after removing 8 at limit 102: " <<  remaining << std::endl;
	std::cout << aapl.getHighestBuy() << std::endl;

	remaining = aapl.removeUnits(15, true);
	std::cout << "Remaining after removing 15 at limit 100: " <<  remaining << std::endl;
	std::cout << aapl.getHighestBuy() << std::endl;

	remaining = aapl.removeUnits(8, true);
	*/
}
